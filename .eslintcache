[{"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\NewVideoPage.js":"1","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\HomePage.js":"2","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\auth\\RegisterLayout.js":"3","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\reducer.js":"4","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\components\\CustomAvatar.js":"5","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\profile\\EditProfileLayout.js":"6","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\UserPage.js":"7","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\AppBar.js":"8","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\video\\CardVideoLayout.js":"9","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\profile\\TableVideosLayout.js":"10","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\home\\HomeVideosLayout.js":"11","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\App.js":"12","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\NotFoundPage.js":"13","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\index.js":"14","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\index.js":"15","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\ResetPasswordPage.js":"16","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\video\\CardCommentsLayout.js":"17","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\actions.js":"18","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\auth\\LoginLayout.js":"19"},{"size":6972,"mtime":1610667020881,"results":"20","hashOfConfig":"21"},{"size":400,"mtime":1610559211520,"results":"22","hashOfConfig":"21"},{"size":6250,"mtime":1610559211302,"results":"23","hashOfConfig":"21"},{"size":1327,"mtime":1610664744233,"results":"24","hashOfConfig":"21"},{"size":1189,"mtime":1610667879023,"results":"25","hashOfConfig":"21"},{"size":5742,"mtime":1610665061812,"results":"26","hashOfConfig":"21"},{"size":5560,"mtime":1610670052988,"results":"27","hashOfConfig":"21"},{"size":8214,"mtime":1610667878809,"results":"28","hashOfConfig":"21"},{"size":8882,"mtime":1610665254936,"results":"29","hashOfConfig":"21"},{"size":13947,"mtime":1610665413511,"results":"30","hashOfConfig":"21"},{"size":1724,"mtime":1610665805683,"results":"31","hashOfConfig":"21"},{"size":2818,"mtime":1610669776265,"results":"32","hashOfConfig":"21"},{"size":1153,"mtime":1610563402725,"results":"33","hashOfConfig":"21"},{"size":284,"mtime":1607211725209,"results":"34","hashOfConfig":"21"},{"size":198,"mtime":1608149292854,"results":"35","hashOfConfig":"21"},{"size":3190,"mtime":1610665254893,"results":"36","hashOfConfig":"21"},{"size":8639,"mtime":1610665413565,"results":"37","hashOfConfig":"21"},{"size":1600,"mtime":1609864146248,"results":"38","hashOfConfig":"21"},{"size":7809,"mtime":1610563039388,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"13pol9f",{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"60","messages":"61","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\NewVideoPage.js",["81"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\HomePage.js",["82"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\auth\\RegisterLayout.js",[],["83","84"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\reducer.js",["85","86","87"],"import React, { useState, useReducer } from 'react';\r\n\r\n\r\nlet user = localStorage.getItem('currentUser')\r\n    ? JSON.parse(localStorage.getItem('currentUser'))\r\n    : '';\r\nlet token = localStorage.getItem('currentUser')\r\n    ? JSON.parse(localStorage.getItem('currentUser')).token\r\n    : '';\r\n\r\nexport const initialState = {\r\n    user: '' || user,\r\n    token: '' || token,\r\n    loading: false,\r\n    errorMessage: null,\r\n};\r\n\r\nconsole.log(initialState);\r\n\r\nexport const AuthReducer = (initialState, action) => {\r\n    switch (action.type) {\r\n        case 'REQUEST_LOGIN':\r\n            return {\r\n                ...initialState,\r\n                loading: true,\r\n            };\r\n        case 'LOGIN_SUCCESS':\r\n            return {\r\n                ...initialState,\r\n                user: action.payload,\r\n                token: action.payload.token,\r\n                loading: false,\r\n            };\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState,\r\n                user: '',\r\n                token: '',\r\n            };\r\n\r\n        case 'LOGIN_ERROR':\r\n            return {\r\n                ...initialState,\r\n                loading: false,\r\n                errorMessage: action.error,\r\n            };\r\n\r\n        default:\r\n            throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n}","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\components\\CustomAvatar.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\profile\\EditProfileLayout.js",["88"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\UserPage.js",["89","90"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\AppBar.js",["91"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\video\\CardVideoLayout.js",["92","93"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\profile\\TableVideosLayout.js",["94","95"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\home\\HomeVideosLayout.js",["96"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\App.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\NotFoundPage.js",["97","98"],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\index.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\index.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\pages\\ResetPasswordPage.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\video\\CardCommentsLayout.js",["99","100"],"import Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Delete} from \"@material-ui/icons\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport API from \"../../utils/API\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport {useHistory} from \"react-router\";\r\nimport CustomAvatar from \"../../components/CustomAvatar\";\r\n\r\n\r\nfunction CardCommentsLayout(props) {\r\n    const userId = props.userId;\r\n    const videoId = props.videoId;\r\n    const isAdmin = props.isAdmin;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const auth = props.auth;\r\n    const [list, setList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [text, setText] = useState(\"\");\r\n\r\n    function loadComments() {\r\n        setLoading(false);\r\n\r\n        API.get(\"comments/video/\" + videoId)\r\n            .then((response) => {\r\n                console.log(response.data.data);\r\n                setList(response.data.data);\r\n                setLoading(true);\r\n            }, (error) => {\r\n                console.log(error.data);\r\n                enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                setLoading(true);\r\n            })\r\n\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setText(e.target.value);\r\n    }\r\n\r\n    function handleCreateComment() {\r\n        const createCommentData = {\r\n            text: text,\r\n            video_id: videoId,\r\n            user_id: userId\r\n        }\r\n\r\n        API.post(\"comments\", createCommentData)\r\n            .then(\r\n                (response) => {\r\n                    console.log(response.data.data)\r\n                    setText(\"\");\r\n                    enqueueSnackbar(\"Комментарий успешно создан\", {variant: \"success\"});\r\n                    loadComments();\r\n                },\r\n                (error) => {\r\n                    console.log(error.data);\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                });\r\n    }\r\n\r\n    useEffect(loadComments, []);\r\n\r\n    return (\r\n        <Paper>\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"stretch\"\r\n                style={{paddingLeft: 15, paddingRight: 15}}\r\n                spacing={3}\r\n            >\r\n                {auth &&\r\n                <Grid item xs >\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth={true}\r\n                        multiline\r\n                        rowsMax={20}\r\n                        rows={4}\r\n                        onChange={handleChange}\r\n                        placeholder=\"Напишите комментарий\"\r\n                        name=\"text\"\r\n                        value={text}\r\n                        autoComplete=\"off\"\r\n                    />\r\n                    <Button\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                        onClick={handleCreateComment}\r\n                    >\r\n                        Отправить\r\n                    </Button>\r\n                </Grid>\r\n                }\r\n                <Grid item xs  >\r\n                    { loading ? <ListComments isAdmin={isAdmin} list={list}  /> : <CircularProgress /> }\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nfunction ListComments(props) {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n    const [list, setList] = useState(props.list.map((item) => {\r\n        item.createDate = new Date(item.createDate);\r\n        return item;\r\n    }).sort((a, b) => {\r\n        return new Date(b.createDate) - new Date(a.createDate);\r\n    }));\r\n\r\n    function deleteComment(item, index) {\r\n        API.delete(\"/comments/\" + item.id)\r\n            .then((res) => {\r\n                const l = list.slice();\r\n                const removed = l.splice(index, 1);\r\n                setList(l);\r\n                enqueueSnackbar(`Комменатрий ${removed[0].text} удален`, { variant: \"success\" });\r\n            },\r\n                (error) => {\r\n                enqueueSnackbar(\"Комменатрий не может быть удален\", { variant: \"warning\" });\r\n            })\r\n    }\r\n\r\n    return (\r\n        <List className={classes.root} subheader={\r\n            <React.Fragment>\r\n                <ListSubheader>Комментарии</ListSubheader>\r\n                <Divider variant=\"fullWidth\" />\r\n            </React.Fragment>\r\n        }>\r\n            {\r\n                Array.prototype.map.call(list, function (item, index) {\r\n                    return (\r\n                        <React.Fragment key={index}>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <CustomAvatar\r\n                                    src={item.user.img}\r\n                                    name={item.user.name}\r\n                                    onClick={() => history.push(\"/user/\" + item.user.id)}\r\n                                    style={{cursor: 'pointer'}}\r\n                                />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <div onClick={() => history.push(\"/user/\" + item.user.id)} style={{cursor: 'pointer', display: 'inline'}}>\r\n                                            {item.user.name}\r\n                                        </div>\r\n                                        <Typography\r\n                                            component=\"span\"\r\n                                            variant=\"subtitle2\"\r\n                                            className={classes.inline}\r\n                                            color=\"textSecondary\"\r\n                                            style={{marginLeft:15}}\r\n                                        >\r\n                                            {new Date(item.createDate).toLocaleString()}\r\n                                        </Typography>\r\n                                    </React.Fragment>\r\n                                    }\r\n                                secondary={\r\n                                    <Typography\r\n                                        component=\"span\"\r\n                                        variant=\"body2\"\r\n                                        className={classes.inline}\r\n                                        color=\"textPrimary\"\r\n                                    >\r\n                                        {item.text}\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                            {props.isAdmin &&\r\n                            <ListItemSecondaryAction>\r\n                                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => deleteComment(item, index)}>\r\n                                    <Delete />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction> }\r\n                        </ListItem>\r\n                            {index !== list.length - 1 && <Divider variant=\"fullWidth\" />}\r\n                        </React.Fragment>\r\n                    )\r\n                })\r\n            }\r\n        </List>\r\n    )\r\n}\r\n\r\n\r\nexport default CardCommentsLayout;","C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\context\\actions.js",[],"C:\\Users\\pshbl\\WebstormProjects\\video-hosting-front\\src\\layouts\\auth\\LoginLayout.js",[],{"ruleId":"101","severity":1,"message":"102","line":17,"column":8,"nodeType":"103","messageId":"104","endLine":17,"endColumn":21},{"ruleId":"105","severity":1,"message":"106","line":12,"column":42,"nodeType":"107","endLine":12,"endColumn":44,"suggestions":"108"},{"ruleId":"109","replacedBy":"110"},{"ruleId":"111","replacedBy":"112"},{"ruleId":"101","severity":1,"message":"113","line":1,"column":8,"nodeType":"103","messageId":"104","endLine":1,"endColumn":13},{"ruleId":"101","severity":1,"message":"114","line":1,"column":17,"nodeType":"103","messageId":"104","endLine":1,"endColumn":25},{"ruleId":"101","severity":1,"message":"115","line":1,"column":27,"nodeType":"103","messageId":"104","endLine":1,"endColumn":37},{"ruleId":"101","severity":1,"message":"116","line":1,"column":9,"nodeType":"103","messageId":"104","endLine":1,"endColumn":15},{"ruleId":"105","severity":1,"message":"106","line":28,"column":42,"nodeType":"107","endLine":28,"endColumn":44,"suggestions":"117"},{"ruleId":"105","severity":1,"message":"118","line":43,"column":8,"nodeType":"107","endLine":43,"endColumn":10,"suggestions":"119"},{"ruleId":"105","severity":1,"message":"106","line":68,"column":42,"nodeType":"107","endLine":68,"endColumn":44,"suggestions":"120"},{"ruleId":"101","severity":1,"message":"116","line":3,"column":8,"nodeType":"103","messageId":"104","endLine":3,"endColumn":14},{"ruleId":"105","severity":1,"message":"121","line":139,"column":8,"nodeType":"107","endLine":139,"endColumn":10,"suggestions":"122"},{"ruleId":"101","severity":1,"message":"123","line":27,"column":9,"nodeType":"103","messageId":"104","endLine":27,"endColumn":17},{"ruleId":"105","severity":1,"message":"124","line":178,"column":7,"nodeType":"107","endLine":178,"endColumn":9,"suggestions":"125"},{"ruleId":"105","severity":1,"message":"126","line":41,"column":8,"nodeType":"107","endLine":41,"endColumn":14,"suggestions":"127"},{"ruleId":"101","severity":1,"message":"128","line":24,"column":11,"nodeType":"103","messageId":"104","endLine":24,"endColumn":15},{"ruleId":"105","severity":1,"message":"106","line":25,"column":42,"nodeType":"107","endLine":25,"endColumn":44,"suggestions":"129"},{"ruleId":"101","severity":1,"message":"116","line":5,"column":8,"nodeType":"103","messageId":"104","endLine":5,"endColumn":14},{"ruleId":"105","severity":1,"message":"130","line":76,"column":29,"nodeType":"107","endLine":76,"endColumn":31,"suggestions":"131"},"no-unused-vars","'DialogContent' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["132"],"no-native-reassign",["133"],"no-negated-in-lhs",["134"],"'React' is defined but never used.","'useState' is defined but never used.","'useReducer' is defined but never used.","'Avatar' is defined but never used.",["135"],"React Hook useEffect has missing dependencies: 'enqueueSnackbar', 'loadUserData', and 'userId'. Either include them or remove the dependency array.",["136"],["137"],"React Hook useEffect has missing dependencies: 'enqueueSnackbar', 'loadMarks', and 'token'. Either include them or remove the dependency array.",["138"],"'CheckBox' is defined but never used.","React Hook useEffect has a missing dependency: 'loadRows'. Either include it or remove the dependency array.",["139"],"React Hook useEffect has missing dependencies: 'name', 'sort', and 'videosData'. Either include them or remove the dependency array.",["140"],"'auth' is assigned a value but never used.",["141"],"React Hook useEffect has missing dependencies: 'enqueueSnackbar' and 'videoId'. Either include them or remove the dependency array.",["142"],{"desc":"143","fix":"144"},"no-global-assign","no-unsafe-negation",{"desc":"143","fix":"145"},{"desc":"146","fix":"147"},{"desc":"143","fix":"148"},{"desc":"149","fix":"150"},{"desc":"151","fix":"152"},{"desc":"153","fix":"154"},{"desc":"143","fix":"155"},{"desc":"156","fix":"157"},"Update the dependencies array to be: [dispatch]",{"range":"158","text":"159"},{"range":"160","text":"159"},"Update the dependencies array to be: [enqueueSnackbar, loadUserData, userId]",{"range":"161","text":"162"},{"range":"163","text":"159"},"Update the dependencies array to be: [enqueueSnackbar, loadMarks, token]",{"range":"164","text":"165"},"Update the dependencies array to be: [loadRows]",{"range":"166","text":"167"},"Update the dependencies array to be: [name, page, sort, videosData]",{"range":"168","text":"169"},{"range":"170","text":"159"},"Update the dependencies array to be: [enqueueSnackbar, videoId]",{"range":"171","text":"172"},[314,316],"[dispatch]",[1129,1131],[1715,1717],"[enqueueSnackbar, loadUserData, userId]",[2163,2165],[4789,4791],"[enqueueSnackbar, loadMarks, token]",[6383,6385],"[loadRows]",[1460,1466],"[name, page, sort, videosData]",[777,779],[2821,2823],"[enqueueSnackbar, videoId]"]